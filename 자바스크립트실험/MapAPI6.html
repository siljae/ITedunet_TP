<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div id="map" style="width:500px;height:400px;"></div>
    <div id="addr"></div>
    <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=b6078f18f8b414a692ce66b5db8cca51&libraries=services,clusterer,drawing"></script>
	<script>
		if(navigator.geolocation){
            navigator.geolocation.getCurrentPosition(function(position){
                let latitude = position.coords.latitude;
                let longitude = position.coords.longitude;

                var mapContainer = document.getElementById('map'), // 지도를 표시할 div 
                mapOption = {
                        center: new kakao.maps.LatLng(latitude, longitude), // 지도의 중심좌표
                        level: 4 // 지도의 확대 레벨
                    };

                // 지도를 표시할 div와  지도 옵션으로  지도를 생성합니다
                var map = new kakao.maps.Map(mapContainer, mapOption);

                let geocoder = new kakao.maps.services.Geocoder();

                geocoder.coord2Address(longitude, latitude, function (result, status) {
                    if (status === kakao.maps.services.Status.OK) {
                        let a = document.getElementById('addr');
                        a.innerHTML = result[0].address.address_name;
                    } else {
                        console.error('주소 검색 실패: ' + status);
                    }
                });
            },
            function(error){
                console.error(error);
                alert("현재 위치를 가져올 수 없습니다.");
            });
        }
        else{
            alert("Geolocation이 지원되지 않는 브라우저입니다.");
        }
	</script>
</body>
</html>